function e(){e=function(){return t};var t={},i=Object.prototype,r=i.hasOwnProperty,n=Object.defineProperty||function(e,t,i){e[t]=i.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function c(e,t,i,r){var o=Object.create((t&&t.prototype instanceof p?t:p).prototype),a=new D(r||[]);return n(o,"_invoke",{value:k(e,i,a)}),o}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h={};function p(){}function m(){}function f(){}var v={};u(v,a,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(P([])));b&&b!==i&&r.call(b,a)&&(v=b);var y=f.prototype=p.prototype=Object.create(v);function _(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){function i(n,o,a,s){var l=d(e[n],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){i("next",e,a,s)},function(e){i("throw",e,a,s)}):t.resolve(c).then(function(e){u.value=e,a(u)},function(e){return i("throw",e,a,s)})}s(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t(function(t,n){i(e,r,t,n)})}return o=o?o.then(n,n):n()}})}function k(e,t,i){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return{value:void 0,done:!0}}for(i.method=n,i.arg=o;;){var a=i.delegate;if(a){var s=S(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===r)throw r="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r="executing";var l=d(e,t,i);if("normal"===l.type){if(r=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r="completed",i.method="throw",i.arg=l.arg)}}}function S(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=d(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=f,n(y,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:m,configurable:!0}),m.displayName=u(f,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,s,function(){return this}),t.AsyncIterator=w,t.async=function(e,i,r,n,o){void 0===o&&(o=Promise);var a=new w(c(e,i,r,n),o);return t.isGeneratorFunction(i)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(y),u(y,l,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),i=[];for(var r in t)i.push(r);return i.reverse(),function e(){for(;i.length;){var r=i.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return a.type="throw",a.arg=e,t.next=i,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),L(i),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;L(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:P(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},t}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function s(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=0;function u(e){return"__private_"+l+++"_"+e}function c(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var d=/*#__PURE__*/function(){function e(e,t){this.formContainer=void 0,this.element=void 0,this.active=void 0,this.id=void 0,this.parentView=void 0,this._model=void 0,this.state=void 0,this.options=void 0,this.fullVersion=!1,this.formContainer=e.formContainer,this.id=e.id,this.element=e.element,this.active=!1,this.setModel(t)}var t=e.prototype;return t.setId=function(e){this.id=e},t.setParent=function(e){this.parentView=e,this.parentView.addChild&&this.parentView.addChild(this)},t.setActive=function(){this.isActive()||this.element.setAttribute("data-cmp-active","true"),this.parentView&&this.parentView.setActive&&this.parentView.setActive()},t.setInactive=function(){this.isActive()&&this.element.setAttribute("data-cmp-active","false"),this.parentView&&this.parentView.setInactive&&this.parentView.setInactive()},t.isActive=function(){return this.active},t.getFormContainerPath=function(){var e;return null==(e=this.options)?void 0:e.adaptiveformcontainerPath},t.getId=function(){return this.id},t.setModel=function(e){var t,i;if(null!=this._model)throw"Re-initializing model is not permitted";this._model=e,"function"==typeof(null==(t=this._model)?void 0:t.getState)?(this.state=null==(i=this._model)?void 0:i.getState(),this.fullVersion=!0):this.state=this._model},t.toggle=function(e,t,i){this.toggleAttribute(this.element,e,t,i)},t.toggleAttribute=function(e,t,i,r){e&&(!1===t?e.setAttribute(i,r):e.removeAttribute(i))},t.getLayoutProperties=function(){var e={},t=this.state;return t&&t.properties&&t.properties["afs:layout"]&&(e=t.properties["afs:layout"]),e},t.getModel=function(){return this._model},t.subscribe=function(){throw"the field does not subscribe to the model"},t.isVisible=function(){var e;return(null==this||null==(e=this.state)?void 0:e.visible)||!0},t.isEnabled=function(){var e;return(null==this||null==(e=this.state)?void 0:e.enabled)||!0},t.isLabelVisible=function(){var e,t;return(null==this||null==(e=this.state)||null==(t=e.label)?void 0:t.visible)||!0},t.getLabelValue=function(){var e,t;return(null==this||null==(e=this.state)||null==(t=e.label)?void 0:t.value)||""},t.getName=function(){var e;return(null==this||null==(e=this.state)?void 0:e.name)||""},t.isTooltipVisible=function(){return!1},t.getTooltipValue=function(){return""},t.isShortDescVisible=function(){return!1},t.getShortDescValue=function(){return""},t.getDescriptionValue=function(){var e;return(null==this||null==(e=this.state)?void 0:e.description)||""},t.getDefault=function(){var e;return(null==this||null==(e=this.state)?void 0:e.default)||""},t.isReadOnly=function(){var e;return(null==this||null==(e=this.state)?void 0:e.readOnly)||!1},t.isRequired=function(){var e;return(null==this||null==(e=this.state)?void 0:e.required)||!1},t.getPlaceHolder=function(){var e;return(null==this||null==(e=this.state)?void 0:e.placeholder)||""},t.getMinLength=function(){var e;return null==this||null==(e=this.state)?void 0:e.minLength},t.getMaxLength=function(){var e;return null==this||null==(e=this.state)?void 0:e.maxLength},t.getMinimum=function(){var e;return null==this||null==(e=this.state)?void 0:e.minimum},t.getMaximum=function(){var e;return null==this||null==(e=this.state)?void 0:e.maximum},t.getEnum=function(){var e;return null==(e=this.state)?void 0:e.enum},t.getEnumNames=function(){var e;return null==(e=this.state)?void 0:e.enumNames},e}();d.IS="FormField";var h=/*#__PURE__*/function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).qm=void 0,r.widget=void 0,r.label=void 0,r.errorDiv=void 0,r.tooltip=void 0,r.description=void 0,r.element.className=r.getbemBlock(),r.widget=r.getWidget(),r.description=r.getDescription(),r.label=r.getLabel(),r.errorDiv=r.getErrorDiv(),r.qm=r.getQuestionMarkDiv(),r.tooltip=r.getTooltipDiv(),r}n(t,e);var i=t.prototype;return i.getWidget=function(){throw"method not implemented"},i.getDescription=function(){throw"method not implemented"},i.getLabel=function(){throw"method not implemented"},i.getErrorDiv=function(){throw"method not implemented"},i.getTooltipDiv=function(){throw"method not implemented"},i.getQuestionMarkDiv=function(){throw"method not implemented"},i.setModel=function(t){e.prototype.setModel.call(this,t)},i.setFocus=function(){var e;null==(e=this.getWidget())||e.focus()},i._applyState=function(e){e.value&&this._updateValue(e.value),this._updateVisible(e.visible),this._updateEnabled(e.enabled),this._initializeHelpContent(e)},i._initializeHelpContent=function(e){this._showHideLongDescriptionDiv(!1),this.getDescription()&&this._addHelpIconHandler(e)},i._showHideTooltipDiv=function(e){this.tooltip&&this.toggleAttribute(this.getTooltipDiv(),e,"data-cmp-visible",!1)},i._showHideLongDescriptionDiv=function(e){this.description&&this.toggleAttribute(this.description,e,"data-cmp-visible",!1)},i._isTooltipAlwaysVisible=function(){return!!this.getLayoutProperties().tooltipVisible},i._updateVisible=function(e){this.toggle(e,"aria-hidden",!0),this.element.setAttribute("data-cmp-visible",e+"")},i._updateEnabled=function(e){var t,i,r,n;this.getWidget()&&(this.toggle(e,"aria-disabled",!0),this.element.setAttribute("data-cmp-enabled",e+""),!1===e?(null==(t=this.getWidget())||t.setAttribute("disabled","true"),null==(i=this.getWidget())||i.setAttribute("aria-disabled","true")):(null==(r=this.getWidget())||r.removeAttribute("disabled"),null==(n=this.getWidget())||n.removeAttribute("aria-disabled")))},i._updateValid=function(e,t){this.errorDiv&&(this.toggle(e,"aria-invalid",!0),this.element.setAttribute("data-cmp-valid",e+""),("string"!=typeof t.errorMessage||""===t.errorMessage)&&(this.errorDiv.innerHTML=!0===e?"":"There is an error in the field"))},i._updateErrorMessage=function(e,t){this.errorDiv&&(this.errorDiv.innerHTML=t.errorMessage)},i._updateValue=function(e){var t=this.getWidget();t&&(t.value=e)},i._addHelpIconHandler=function(e){var t=this.qm,i=this.description,r=this._isTooltipAlwaysVisible(),n=this;t&&i&&t.addEventListener("click",function(e){e.preventDefault(),"false"===i.getAttribute("data-cmp-visible")?(n._showHideLongDescriptionDiv(!0),r&&n._showHideTooltipDiv(!1)):(n._showHideLongDescriptionDiv(!1),r&&n._showHideTooltipDiv(!0))})},i.getClass=function(){return this.constructor.IS},i.subscribe=function(){var e,t=this;null==(e=this._model)||e.subscribe(function(e){var i=e.target.getState();e.payload.changes.forEach(function(e){var r,n="_update"+((r=e.propertyName)[0].toUpperCase()+r.slice(1));"function"==typeof t[n]?"items"===e.propertyName?t[n](e.prevValue,e.currentValue,i):t[n](e.currentValue,i):console.error("changes to "+e.propertyName+" are not supported. Please raise an issue")})})},i.getbemBlock=function(){throw"bemBlock not implemented"},i.getIS=function(){throw"IS is not implemented"},i.getId=function(){return this.getIS()+"-"+this.id},i.addListener=function(){},i.render=function(){this.element.appendChild(this.createView()),this.fullVersion&&(this.addListener(),this.subscribe())},i.createView=function(){var e,t,i=document.createElement("div");i.id=this.getId(),i.dataset.cmpVisible=null==(e=this.isVisible())?void 0:e.toString(),i.dataset.cmpEnabled=null==(t=this.isEnabled())?void 0:t.toString(),i.dataset.cmpAdaptiveformcontainerPath=this.getFormContainerPath(),this.isLabelVisible()&&i.appendChild(this.createLabel());var r=this.createInputHTML();return r&&(r instanceof Element?i.appendChild(r):r instanceof Array&&(null==r||r.forEach(function(e){i.appendChild(e)}))),this.getDescriptionValue()&&(i.appendChild(this.createQuestionMarkHTML()),i.appendChild(this.createLongDescHTML())),this.isShortDescVisible()&&i.appendChild(this.createShortDescHTML()),i.appendChild(this.createErrorHTML()),i},i.createInputHTML=function(){throw"getInputHTML is not implemented"},i.createLabel=function(){var e=document.createElement("label");return e.id=this.getId()+"-label",e.htmlFor=this.getId(),e.className=this.getbemBlock()+"__label",e.textContent=this.getLabelValue(),e},i.createQuestionMarkHTML=function(){var e=document.createElement("button");return e.className=this.getbemBlock()+"__questionmark",e},i.createShortDescHTML=function(){var e=document.createElement("div");return e.id=this.getId()+"-shortDescription",e.className=this.getbemBlock()+"__shortdescription",e},i.createLongDescHTML=function(){var e=document.createElement("div");return e.setAttribute("aria-live","polite"),e.id=this.getId()+"-longDescription",e.className=this.getbemBlock()+"__longdescription",e},i.createErrorHTML=function(){var e=document.createElement("div");return e.id=this.getId()+"-errorMessage",e.className=this.getbemBlock()+"__errormessage",e},i.setDisabledAttribute=function(e){e.disabled=!this.isEnabled()},i.setReadonlyAttribute=function(e){e.disabled=this.isReadOnly()},i.setStringContraints=function(e){var t,i=this.getMaxLength(),r=this.getMinLength();r>0&&(e.minLength=r),r>0&&(e.maxLength=i),e instanceof HTMLInputElement&&(e.pattern=null==(t=this.state)?void 0:t.pattern)},i.setNumberConstraints=function(e){var t=this.getMaximum(),i=this.getMinimum();t>0&&(e.max=null==t?void 0:t.toString()),i>0&&(e.min=null==i?void 0:i.toString())},t}(d),p=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.getWidget=function(){return this.element.querySelector(t.selectors.widget)},i.getDescription=function(){return this.element.querySelector(t.selectors.description)},i.getLabel=function(){return this.element.querySelector(t.selectors.label)},i.getErrorDiv=function(){return this.element.querySelector(t.selectors.errorDiv)},i.getTooltipDiv=function(){return this.element.querySelector(t.selectors.tooltipDiv)},i.getQuestionMarkDiv=function(){return this.element.querySelector(t.selectors.qm)},i.addListener=function(){var e,t,i=this;null==(e=this.getWidget())||e.addEventListener("blur",function(e){i._model.value=e.target.value,i.setInactive()}),null==(t=this.getWidget())||t.addEventListener("focus",function(e){i.setActive()})},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createInputHTML=function(){var e=document.createElement("input");return e.type="text",e.className="cmp-adaptiveform-textinput__widget",e.title=this.isTooltipVisible()?this.getTooltipValue():"",e.name=this.getName(),e.value=this.getDefault(),e.placeholder=this.getPlaceHolder(),e.required=this.isRequired(),e.setAttribute("aria-label",this.isLabelVisible()?this.getLabelValue():""),this.setDisabledAttribute(e),this.setReadonlyAttribute(e),this.setStringContraints(e),e},t}(h);p.NS="cmp",p.IS="adaptiveFormTextInput",p.bemBlock="cmp-adaptiveform-textinput",p.selectors={self:"[data-"+p.NS+'-is="'+p.IS+'"]',widget:"."+p.bemBlock+"__widget",label:"."+p.bemBlock+"__label",description:"."+p.bemBlock+"__longdescription",qm:"."+p.bemBlock+"__questionmark",errorDiv:"."+p.bemBlock+"__errormessage",tooltipDiv:"."+p.bemBlock+"__shortdescription"};var m=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.createInputHTML=function(){var e=document.createElement("textarea");return e.className="cmp-adaptiveform-textarea__widget",e.title=this.isTooltipVisible()?this.getTooltipValue():"",e.name=this.getName(),e.value=this.getDefault(),e.placeholder=this.getPlaceHolder(),e.required=this.isRequired(),e.setAttribute("aria-label",this.isLabelVisible()?this.getLabelValue():""),this.setDisabledAttribute(e),this.setReadonlyAttribute(e),this.setStringContraints(e),e},t}(p),f=/*#__PURE__*/u("checkIfEqual"),v=/*#__PURE__*/function(e){function t(i,r){var n;return n=e.call(this,i,r)||this,Object.defineProperty(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),f,{writable:!0,value:function(e,t,i){if(i){var r=!1;return e.forEach(function(e){String(e)===t&&(r=!0)}),r}return String(e)===t}}),n.qm=n.element.querySelector(t.selectors.qm),n}n(t,e);var i=t.prototype;return i.getWidget=function(){return this.element.querySelector(t.selectors.widget)},i.getDescription=function(){return this.element.querySelector(t.selectors.description)},i.getLabel=function(){return this.element.querySelector(t.selectors.label)},i.getErrorDiv=function(){return this.element.querySelector(t.selectors.errorDiv)},i.getQuestionMarkDiv=function(){return this.element.querySelector(t.selectors.qm)},i.getTooltipDiv=function(){return this.element.querySelector(t.selectors.tooltipDiv)},i._updateValue=function(e){var t=this,i=this._model.isArrayType();this.widget&&[this.widget].forEach(function(r){c(t,f)[f](e,r.value,i)?r.setAttribute("selected","selected"):r.removeAttribute("selected")})},i.addListener=function(){var e,t=this;null==(e=this.getWidget())||e.addEventListener("blur",function(e){if(t._model.isArrayType()){var i=[];[t.widget].forEach(function(e){e.selected&&i.push(e.value)}),t._model.value=i}else t._model.value=e.target.value})},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createInputHTML=function(){var e,t,i=this,r=document.createElement("select");if(r.className="cmp-adaptiveform-dropdown__widget",r.title=this.isTooltipVisible()?this.getTooltipValue():"",r.name=this.getName(),r.multiple=null==(e=this.state)?void 0:e.isMultiSelect,r.required=this.isRequired(),r.setAttribute("aria-label",this.isLabelVisible()?this.getLabelValue():""),this.setDisabledAttribute(r),this.setReadonlyAttribute(r),this.getPlaceHolder()){var n=this.createOptions("",this.getPlaceHolder(),!0,!0);r.appendChild(n)}return null==(t=this.getEnum())||t.forEach(function(e,t){r.appendChild(i.createOptions(e,i.getEnumNames()[t],e==i.getDefault(),!1))}),r},i.createOptions=function(e,t,i,r){void 0===r&&(r=!1);var n=document.createElement("option");return n.value=e,n.disabled=r,n.textContent=t,n.selected=i,n.className="cmp-adaptiveform-dropdown__option",n},t}(h);v.NS="cmp",v.IS="adaptiveFormDropDown",v.bemBlock="cmp-adaptiveform-dropdown",v.selectors={self:"[data-"+v.NS+'-is="'+v.IS+'"]',widget:"."+v.bemBlock+"__widget",options:"."+v.bemBlock+"__option",label:"."+v.bemBlock+"__label",description:"."+v.bemBlock+"__longdescription",qm:"."+v.bemBlock+"__questionmark",errorDiv:"."+v.bemBlock+"__errormessage",tooltipDiv:"."+v.bemBlock+"__shortdescription"};var g=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.getQuestionMarkDiv=function(){return null},i.getLabel=function(){return null},i.getWidget=function(){return this.element.querySelector(".cmp-button")},i.getDescription=function(){return null},i.getErrorDiv=function(){return null},i.getTooltipDiv=function(){return null},i.addListener=function(){var e,t=this;null==(e=this.getWidget())||e.addEventListener("click",function(){import("./afcore.js").then(function(e){t._model.dispatch(new e.Click)})})},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createView=function(){var e=document.createElement("button");e.type="button",e.id=this.getId(),e.className="cmp-button",e.title=this.getTooltipValue(),e.dataset.cmpVisible=this.isVisible().toString(),e.dataset.cmpEnabled=this.isEnabled().toString(),e.dataset.cmpAdaptiveformcontainerPath=this.getFormContainerPath(),e.dataset.cmpIs="adaptiveFormButton",e.setAttribute("aria-label",this.getLabelValue());var t=document.createElement("span");return t.className="cmp-button__text",t.textContent=this.getLabelValue(),e.appendChild(t),e},t}(h);g.NS="cmp",g.IS="adaptiveFormButton",g.bemBlock="cmp-adaptiveform-button",g.selectors={self:"[data-"+g.NS+'-is="'+g.IS+'"]'};var b=/*#__PURE__*/u("widget"),y=/*#__PURE__*/u("model"),_=/*#__PURE__*/u("options"),w=/*#__PURE__*/u("defaultOptions"),k=/*#__PURE__*/u("matchArray"),S=/*#__PURE__*/u("regex"),E=/*#__PURE__*/u("processedValue"),L=/*#__PURE__*/u("engRegex"),D=/*#__PURE__*/u("writtenInLocale"),P=/*#__PURE__*/u("previousCompositionVal"),x=/*#__PURE__*/u("toLatinForm"),A=/*#__PURE__*/u("attachEventHandlers"),O=/*#__PURE__*/u("attachCompositionEventHandlers"),V=/*#__PURE__*/u("getDigits"),j=/*#__PURE__*/u("escape"),C=/*#__PURE__*/u("compositionUpdateCallback"),I=/*#__PURE__*/u("handleKeyInput"),M=/*#__PURE__*/u("handleKeyDown"),q=/*#__PURE__*/u("isValidChar"),T=/*#__PURE__*/u("handleKeyPress"),B=/*#__PURE__*/u("handlePaste"),N=/*#__PURE__*/u("handleCut"),H=/*#__PURE__*/u("convertValueToLocale"),F=/*#__PURE__*/u("convertValueFromLocale"),W=/*#__PURE__*/u("isValueSame"),R=/*#__PURE__*/function(){function e(e,t){if(Object.defineProperty(this,W,{value:ne}),Object.defineProperty(this,F,{value:re}),Object.defineProperty(this,H,{value:ie}),Object.defineProperty(this,N,{value:te}),Object.defineProperty(this,B,{value:ee}),Object.defineProperty(this,T,{value:Z}),Object.defineProperty(this,q,{value:X}),Object.defineProperty(this,M,{value:Y}),Object.defineProperty(this,I,{value:$}),Object.defineProperty(this,C,{value:U}),Object.defineProperty(this,j,{value:K}),Object.defineProperty(this,V,{value:J}),Object.defineProperty(this,O,{value:z}),Object.defineProperty(this,A,{value:Q}),Object.defineProperty(this,x,{value:G}),Object.defineProperty(this,b,{writable:!0,value:null}),Object.defineProperty(this,y,{writable:!0,value:null}),Object.defineProperty(this,_,{writable:!0,value:null}),Object.defineProperty(this,w,{writable:!0,value:{value:null,curValue:null,pos:0,lengthLimitVisible:!0,zero:"0",decimal:".",minus:"-"}}),Object.defineProperty(this,k,{writable:!0,value:{integer:"^[+-]?{digits}*$",decimal:"^[+-]?{digits}{leading}({decimal}{digits}{fraction})?$",float:"^[+-]?{digits}*({decimal}{digits}*)?$"}}),Object.defineProperty(this,S,{writable:!0,value:null}),Object.defineProperty(this,E,{writable:!0,value:null}),Object.defineProperty(this,L,{writable:!0,value:null}),Object.defineProperty(this,D,{writable:!0,value:!1}),Object.defineProperty(this,P,{writable:!0,value:""}),c(this,b)[b]=e,c(this,y)[y]=t,c(this,_)[_]=Object.assign({},c(this,w)[w],c(this,y)[y]._jsonModel),c(this,k)[k][c(this,_)[_].dataType]){var i=c(this,_)[_].leadDigits,r=c(this,_)[_].fracDigits,n=r&&-1!==r?"{0,"+r+"}":"*",o=o.replace("{leading}",i&&-1!==i?"{0,"+i+"}":"*").replace("{fraction}",n),a=o.replace(/{digits}/g,c(this,V)[V]()).replace("{decimal}",c(this,j)[j](c(this,_)[_].decimal)),s=o.replace(/{digits}/g,"[0-9]").replace("{decimal}","\\.");c(this,E)[E]=!("[0123456789]"===c(this,V)[V]()&&"."===c(this,_)[_].decimal),c(this,S)[S]=new RegExp(a,"g"),c(this,L)[L]=new RegExp(s,"g")}c(this,b)[b].setAttribute("type","text"),c(this,A)[A](e)}var t=e.prototype;return t.getValue=function(e){return(e=c(this,x)[x](e)).length>0&&c(this,E)[E]&&!e.match(c(this,L)[L])?(c(this,D)[D]=!0,e=c(this,F)[F](e)):c(this,D)[D]=!1,e&&e.length>=c(this,_)[_].combCells&&(e=e.slice(0,c(this,_)[_].combCells)),c(this,P)[P]=e,e},t.trigger=function(e,t){if(!c(this,b)[b])return this;var i=e.split(".")[0];if(void 0!==document.body["on"+i])return c(this,b)[b].dispatchEvent(new Event(i)),this;var r=new CustomEvent(i,{detail:t||null});return c(this,b)[b].dispatchEvent(r),this},t.getHTMLSupportedAttr=function(e,t){try{return e[t]}catch(e){return}},t.isNonPrintableKey=function(e){return e&&!["MozPrintableKey","Divide","Multiply","Subtract","Add","Enter","Decimal","Spacebar","Del"].includes(e)&&1!==e.length},t.setValue=function(e){c(this,W)[W]()||(e&&c(this,D)[D]?c(this,b)[b].value=c(this,H)[H](e):c(this,b)[b].value=c(this,y)[y].value)},e}();function G(e){return e.replace(/[\uff00-\uffef]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})}function Q(e,t){var i=this;e.addEventListener("keydown",function(e){c(i,M)[M](e)}),e.addEventListener("keypress",function(e){c(i,T)[T](e)}),e.addEventListener("paste",function(e){c(i,B)[B](e)}),e.addEventListener("cut",function(e){c(i,N)[N](e)}),e.addEventListener("blur",function(e){c(i,y)[y].value=i.getValue(e.target.value)}),c(this,O)[O](e)}function z(e){var t=!1,i=this,r=function(){var t=window.getSelection();t.selectAllChildren(e),t.collapseToEnd()};e.addEventListener("keyup",function(e){t&&(c(i,C)[C](e)&&r(),t=!1)}),e.addEventListener("compositionstart",function(e){}),e.addEventListener("compositionupdate",function(e){c(i,C)[C](e)&&r()}),e.addEventListener("compositionend",function(e){t=!0}),e.addEventListener("keydown",function(e){229!==e.which&&(t=!1)})}function J(){for(var e=c(this,_)[_].zero.charCodeAt(0),t="",i=0;i<10;i++)t+=String.fromCharCode(e+i);return"["+t+"]"}function K(e){return e.replace(".","\\.")}function U(e){var t=this,i=!1,r=c(t,_)[_].leadDigits,n=c(t,_)[_].fracDigits;if(-1!==r){var o=c(this,b)[b].value;"compositionupdate"===e.type&&e.originalEvent.data&&(o+=e.originalEvent.data.substr(e.originalEvent.data.length-1));var a=r+(-1!==n?n+c(t,_)[_].decimal.length:0);-1===o.indexOf(c(t,_)[_].decimal)&&(a=r);var s=c(this,x)[x](o),l=s.match(c(t,S)[S])||s.match(c(this,L)[L]);if(i=!l,null===l)c(t,b)[b].value=c(t,P)[P],i=!0;else if(i){var u=o.substr(0,a);c(t,b)[b].value=u,c(t,P)[P]=u,i=!0}else c(t,P)[P]=o}return i}function $(e,t,i){if(e.ctrlKey&&!["paste","cut"].includes(e.type))return!0;c(this,M)[M](arguments),c(this,_)[_].lengthLimitVisible=!0;var r,n=c(this,b)[b].value,o=this.getHTMLSupportedAttr(c(this,b)[b],"selectionStart")||0,a=!(null==o),s=this.getHTMLSupportedAttr(c(this,b)[b],"selectionEnd")||0,l=parseInt(c(this,_)[_].combCells)||0,u=t;if(l>0&&(u=t.substr(0,l-n.length+s-o)),!a)return!0;r=n.substr(0,o)+u+n.substr(s);var d=c(this,x)[x](r);return null==c(this,S)[S]||d.match(c(this,S)[S])||d.match(c(this,L)[L])?!["keydown","cut"].includes(e.type)&&l&&(n.length>=l||r.length>l)&&o===s?(e.preventDefault(),!1):(c(this,_)[_].curValue=n,c(this,P)[P]=n,void(c(this,_)[_].pos=o)):(e.preventDefault(),!1)}function Y(e){if(e){var t=e.charCode||e.which||e.keyCode||0;if(8===t||46===t)c(this,I)[I](e,"",t);else if(32===t)return e.preventDefault(),!1}}function X(e){e=c(this,x)[x](e);var t=String.fromCharCode(c(this,_)[_].zero.charCodeAt(0)+9);return e>="0"&&e<="9"||e>=c(this,_)[_].zero&&e<=t||e===c(this,_)[_].decimal||e===c(this,_)[_].minus}function Z(e){if(e){var t=e.charCode||e.which||e.keyCode||0,i=String.fromCharCode(t);if(this.isNonPrintableKey(e.key))return!0;if(c(this,q)[q](i))c(this,I)[I](e,i,t);else if(!e.ctrlKey)return e.preventDefault(),!1}}function ee(e){if(e){var t=void 0;if(window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData&&(e.originalEvent||e).clipboardData.getData&&(t=(e.originalEvent||e).clipboardData.getData("text/plain")),t)if(t.split("").every(function(e){return c(this,q)[q](e)},this))t=c(this,x)[x](t),c(this,I)[I](e,t,0);else if(!e.ctrlKey)return e.preventDefault(),!1}}function te(e){e&&c(this,I)[I](e,"",0)}function ie(e){var t=c(this,_)[_].zero.charCodeAt(0);return e.map(function(e){return"."===e?c(this,_)[_].decimal:"-"===e?c(this,_)[_].minus:String.fromCharCode(parseInt(e)+t)},this).join("")}function re(e){e=c(this,x)[x](e);var t=c(this,_)[_].zero.charCodeAt(0);return e.map(function(e){return e===c(this,_)[_].decimal?".":e===c(this,_)[_].minus?"-":(e.charCodeAt(0)-t).toString()},this).join("")}function ne(){return null===c(this,y)[y].value&&""===c(this,b)[b].value||c(this,y)[y].value===c(this,b)[b].value}var oe=/*#__PURE__*/function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).widgetObject=void 0,t}n(t,e);var i=t.prototype;return i.getClass=function(){return t.IS},i.getWidget=function(){return this.element.querySelector(t.selectors.widget)},i.getDescription=function(){return this.element.querySelector(t.selectors.description)},i.getLabel=function(){return this.element.querySelector(t.selectors.label)},i.getErrorDiv=function(){return this.element.querySelector(t.selectors.errorDiv)},i.getTooltipDiv=function(){return this.element.querySelector(t.selectors.tooltipDiv)},i.getQuestionMarkDiv=function(){return this.element.querySelector(t.selectors.qm)},i._updateValue=function(t){null==this.widgetObject&&(this._model._jsonModel.editFormat||this._model._jsonModel.displayFormat)&&(this.widgetObject=new R(this.getWidget(),this._model)),this.widgetObject?this.widgetObject.setValue(t):e.prototype._updateValue.call(this,t)},i.addListener=function(){var e,t,i,r,n,o=this;null!=(e=this._model)&&null!=(t=e._jsonModel)&&t.editFormat||null!=(i=this._model)&&null!=(r=i._jsonModel)&&r.displayFormat?null==this.widgetObject&&(this.widgetObject=new R(this.getWidget(),this._model)):null==(n=this.getWidget())||n.addEventListener("blur",function(e){o._model.value=e.target.value})},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createInputHTML=function(){var e=document.createElement("input");return e.className="cmp-adaptiveform-numberinput__widget",e.title=this.isTooltipVisible()?this.getTooltipValue():"",e.type="number",e.name=this.getName(),e.value=this.getDefault(),e.placeholder=this.getPlaceHolder(),e.required=this.isRequired(),e.setAttribute("aria-label",this.isLabelVisible()?this.getLabelValue():""),this.setDisabledAttribute(e),this.setReadonlyAttribute(e),this.setNumberConstraints(e),e},t}(h);oe.NS="cmp",oe.IS="adaptiveFormNumberInput",oe.bemBlock="cmp-adaptiveform-numberinput",oe.selectors={self:"[data-"+oe.NS+'-is="'+oe.IS+'"]',widget:"."+oe.bemBlock+"__widget",label:"."+oe.bemBlock+"__label",description:"."+oe.bemBlock+"__longdescription",errorDiv:"."+oe.bemBlock+"__errormessage",qm:"."+oe.bemBlock+"__questionmark",tooltipDiv:"."+oe.bemBlock+"__shortdescription"};var ae=/*#__PURE__*/function(e){function t(i,r){var n;return(n=e.call(this,i,r)||this).qm=n.element.querySelector(t.selectors.qm),n}n(t,e);var i=t.prototype;return i.getWidget=function(){return this.element.querySelector(t.selectors.widget)},i.getWidgets=function(){return this.element.querySelectorAll(t.selectors.widget)},i.getDescription=function(){return this.element.querySelector(t.selectors.description)},i.getLabel=function(){return this.element.querySelector(t.selectors.label)},i.getQuestionMarkDiv=function(){return this.element.querySelector(t.selectors.qm)},i.getTooltipDiv=function(){return this.element.querySelector(t.selectors.tooltipDiv)},i.getErrorDiv=function(){return this.element.querySelector(t.selectors.errorDiv)},i._updateValue=function(e){null!=e&&this.getWidgets().forEach(function(t){null!=t.value&&e.toString()==t.value.toString()?(t.checked=!0,t.setAttribute("checked","checked"),t.setAttribute("aria-checked",!0+"")):(t.checked=!1,t.removeAttribute("checked"),t.setAttribute("aria-checked",!1+""))},this)},i._updateEnabled=function(e){this.toggle(e,"aria-disabled",!0),this.element.setAttribute("data-cmp-enabled",e+"");var t=this.getWidgets();null==t||t.forEach(function(t){!1===e?(t.setAttribute("disabled",!0+""),t.setAttribute("aria-disabled",!0+"")):(t.removeAttribute("disabled"),t.removeAttribute("aria-disabled"))})},i.addListener=function(){var e=this;this.getWidgets().forEach(function(t){t.addEventListener("change",function(t){e._model.value=t.target.value})})},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createInputHTML=function(){var e,t=this,i=[];return null==(e=this.getEnum())||e.forEach(function(e,r){var n;i.push(t.createRadioButton(t,e,null==(n=t.getEnumNames())?void 0:n[r],r))}),i},i.createRadioButton=function(e,t,i,r){var n=document.createElement("div");n.className="cmp-adaptiveform-radiobutton__option "+e.getLayoutProperties().orientation;var o=document.createElement("label");o.className="cmp-adaptiveform-radiobutton__option__label",o.title=e.getTooltipValue(),o.setAttribute("aria-label",i),o.setAttribute("aria-describedby","_desc");var a=document.createElement("input");a.type="radio",a.name=e.getName(),a.className="cmp-adaptiveform-radiobutton__option__widget",a.id=e.getId()+"_"+r+"__widget",a.value=t,a.checked=t==this.getDefault(),a.setAttribute("aria-describedby","_desc"),this.setDisabledAttribute(a);var s=document.createElement("span");return s.textContent=i,o.appendChild(a),o.appendChild(s),n.appendChild(o),n},t}(h);ae.NS="cmp",ae.IS="adaptiveFormRadioButton",ae.bemBlock="cmp-adaptiveform-radiobutton",ae.selectors={self:"[data-"+ae.NS+'-is="'+ae.IS+'"]',widget:"."+ae.bemBlock+"__option__widget",label:"."+ae.bemBlock+"__label",description:"."+ae.bemBlock+"__longdescription",qm:"."+ae.bemBlock+"__questionmark",errorDiv:"."+ae.bemBlock+"__errormessage",tooltipDiv:"."+ae.bemBlock+"__shortdescription"};var se=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.getWidget=function(){return null},i.getDescription=function(){return null},i.getLabel=function(){return null},i.getErrorDiv=function(){return null},i.getTooltipDiv=function(){return null},i.getQuestionMarkDiv=function(){return null},i.getClass=function(){return t.IS},i.setFocus=function(){this.setActive()},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createView=function(){var e=document.createElement("div");e.id=this.getId(),e.className="cmp-adaptiveform-text",e.dataset.cmpVisible=this.isVisible.toString(),e.dataset.cmpAdaptiveformcontainerPath=this.getFormContainerPath(),e.dataset.cmIs=this.getIS();var t=document.createElement("div");return t.className="cmp-adaptiveform-text__widget",t.tabIndex=0,t.textContent=this.state.value,e},t}(h);se.NS="cmp",se.IS="adaptiveFormText",se.bemBlock="cmp-adaptiveform-text",se.selectors={self:"[data-"+se.NS+'-is="'+se.IS+'"]'};var le=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.getWidget=function(){return this.element.querySelector(t.selectors.widget)},i.getDescription=function(){return this.element.querySelector(t.selectors.description)},i.getLabel=function(){return this.element.querySelector(t.selectors.label)},i.getErrorDiv=function(){return this.element.querySelector(t.selectors.errorDiv)},i.getTooltipDiv=function(){return this.element.querySelector(t.selectors.tooltipDiv)},i.getQuestionMarkDiv=function(){return this.element.querySelector(t.selectors.qm)},i.addListener=function(){var e,t,i=this;null==(e=this.getWidget())||e.addEventListener("blur",function(e){i._model.value=e.target.value,i.setInactive()}),null==(t=this.getWidget())||t.addEventListener("focus",function(e){i.setActive()})},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createInputHTML=function(){var e,t,i=document.createElement("input");return i.className="cmp-adaptiveform-sliderInput__widget",i.title=this.isTooltipVisible()?this.getTooltipValue():"",i.type="range",i.name=this.getName(),i.value=this.getDefault(),i.step=this.state.step,i.placeholder=this.getPlaceHolder(),i.required=this.isRequired(),i.min=null==(e=this.getMinLength())?void 0:e.toString(),i.max=null==(t=this.getMaxLength())?void 0:t.toString(),i.setAttribute("aria-label",this.isLabelVisible()?this.getLabelValue():""),this.setDisabledAttribute(i),this.setReadonlyAttribute(i),this.setNumberConstraints(i),i},t}(h);le.NS="cmp",le.IS="adaptiveFormSliderInput",le.bemBlock="cmp-adaptiveform-sliderinput",le.selectors={self:"[data-"+le.NS+'-is="'+le.IS+'"]',widget:"."+le.bemBlock+"__widget",label:"."+le.bemBlock+"__label",description:"."+le.bemBlock+"__longdescription",qm:"."+le.bemBlock+"__questionmark",errorDiv:"."+le.bemBlock+"__errormessage",tooltipDiv:"."+le.bemBlock+"__shortdescription"};var ue=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.createInputHTML=function(){var e=document.createElement("input");return e.className="cmp-adaptiveform-textinput__widget",e.title=this.isTooltipVisible()?this.getTooltipValue():"",e.type="email",e.name=this.getName(),e.value=this.getDefault(),e.placeholder=this.getPlaceHolder(),e.required=this.isRequired(),e.setAttribute("aria-label",this.isLabelVisible()?this.getLabelValue():""),this.setDisabledAttribute(e),this.setReadonlyAttribute(e),this.setStringContraints(e),e},t}(p),ce=/*#__PURE__*/function(e){function t(i,r){var n;return(n=e.call(this,i,r)||this).widgetLabel=void 0,n.qm=n.element.querySelector(t.selectors.qm),n.widgetLabel=n.element.querySelector(t.selectors.widgetLabel),n}n(t,e);var i=t.prototype;return i.getWidget=function(){return this.element.querySelector(t.selectors.widget)},i.getWidgets=function(){return this.element.querySelectorAll(t.selectors.widget)},i.getDescription=function(){return this.element.querySelector(t.selectors.description)},i.getLabel=function(){return this.element.querySelector(t.selectors.label)},i.getErrorDiv=function(){return this.element.querySelector(t.selectors.errorDiv)},i.getQuestionMarkDiv=function(){return this.element.querySelector(t.selectors.qm)},i.getTooltipDiv=function(){return this.element.querySelector(t.selectors.tooltipDiv)},i._updateModelValue=function(){var e=[],t=this.getWidgets();null==t||t.forEach(function(t){t.checked&&e.push(t.value)},this),this._model.value=e},i._updateEnabled=function(e){this.toggle(e,"aria-disabled",!0),this.element.setAttribute("data-cmp-enabled",e+"");var t=this.getWidgets();null==t||t.forEach(function(t){!1===e?(t.setAttribute("disabled",!0+""),t.setAttribute("aria-disabled",!0+"")):(t.removeAttribute("disabled"),t.removeAttribute("aria-disabled"))})},i.addListener=function(){var e=this;this.getWidgets().forEach(function(t){t.addEventListener("change",function(t){e._updateModelValue()})})},i.getbemBlock=function(){return t.bemBlock},i.getIS=function(){return t.IS},i.createInputHTML=function(){var e,t=this,i=document.createElement("div");return i.className="cmp-adaptiveform-checkboxgroup__widget",null==(e=this.getEnum())||e.forEach(function(e,r,n){var o;i.appendChild(t.createCheckboxHTML(t,e,(null==(o=t.getEnumNames())?void 0:o[r])||e,r,null==n?void 0:n.length))}),i},i.createCheckboxHTML=function(e,t,i,r,n){var o=document.createElement("div");o.className="cmp-adaptiveform-checkboxgroup-item "+e.getName()+" "+e.getLayoutProperties().orientation;var a=document.createElement("label");a.className="cmp-adaptiveform-checkbox__label",a.title=e.getTooltipValue(),a.htmlFor=e.id+"_"+r+"__widget",a.setAttribute("aria-label",i);var s=document.createElement("input");s.className="cmp-adaptiveform-checkbox__widget",s.type="checkbox",s.id=a.htmlFor,s.value=t.toString(),s.name=n>1?e.getName():e.getLabelValue(),s.checked=t==e.getDefault(),s.setAttribute("aria-describedby","_desc"),this.setDisabledAttribute(s);var l=document.createElement("span");return l.textContent=this.getEnum().length>1?i:e.getLabelValue(),a.appendChild(s),a.appendChild(l),o.appendChild(a),o},i.createLabel=function(){var e,t=document.createElement("label");return t.id=this.getId()+"-label",t.htmlFor=this.getId(),t.className=this.getbemBlock()+"__label",t.textContent=this.getLabelValue(),t.hidden=this.isLabelVisible()&&1==(null==(e=this.getEnum())?void 0:e.length),t},t}(h);ce.NS="cmp",ce.IS="adaptiveFormCheckBoxGroup",ce.bemBlock="cmp-adaptiveform-checkboxgroup",ce.checkboxBemBlock="cmp-adaptiveform-checkbox",ce.selectors={self:"[data-"+ce.NS+'-is="'+ce.IS+'"]',widgets:"."+ce.bemBlock+"__widgets",widget:"."+ce.checkboxBemBlock+"__widget",widgetLabel:"."+ce.checkboxBemBlock+"__label",label:"."+ce.bemBlock+"__label",description:"."+ce.bemBlock+"__longdescription",qm:"."+ce.bemBlock+"__questionmark",errorDiv:"."+ce.bemBlock+"__errormessage",tooltipDiv:"."+ce.bemBlock+"__shortdescription"};var de=/*#__PURE__*/u("formJson"),he=/*#__PURE__*/function(){function e(e){var t=this,i=this;this._model=void 0,this._path=void 0,this._fields=void 0,this._deferredParents=void 0,Object.defineProperty(this,de,{writable:!0,value:void 0}),this.renderChildrens=function(e,t){console.time("Rendering childrens");var r=null==t?void 0:t.items;r&&r.length>0&&r.forEach(function(t,r){i.getRender(t).then(function(t){e.append(t)})}),console.timeEnd("Rendering childrens")},this.getRender=function(e){try{var i=document.createElement("div");try{var r,n,o,a=null!=(r=c(t,de)[de])&&null!=(n=r.metadata)&&n.rulesUsed?t.getModel(e.id):e,s={element:i,id:e.id};switch(null==e?void 0:e.fieldType){case"checkbox":o=new ce(s,a);break;case"email":o=new ue(s,a);break;case"slider":o=new le(s,a);break;case"plain-text":o=new se(s,a);break;case"radio":o=new ae(s,a);break;case"number":o=new oe(s,a);break;case"button":o=new g(s,a);break;case"select":o=new v(s,a);break;case"text-area":o=new m(s,a);break;default:o=new p(s,a)}o&&(t._fields[o.getId()]=o,o.render())}catch(e){console.error("Unexpected error ",e)}return Promise.resolve(i)}catch(e){return Promise.reject(e)}},c(this,de)[de]=null==e?void 0:e._formJson,this._path=e._path,this._fields={},this._deferredParents={}}var t=e.prototype;return t.getField=function(e){return this._fields.hasOwnProperty(e)?this._fields[e]:null},t.getModel=function(e){var t;return e?null==(t=this._model)?void 0:t.getElement(e):this._model},t.addField=function(e){if(e.getFormContainerPath()===this._path){var t=e.getId();this._fields[t]=e;var i=this.getModel(t);e.setModel(i);var r=i.parent.id;if("$form"!=r){var n=this._fields[r];n?e.setParent(n):(this._deferredParents[r]||(this._deferredParents[r]=[]),this._deferredParents[r].push(e))}if(this._deferredParents[t]){for(var o=this._deferredParents[t],a=0;a<o.length;a++)o[a].setParent(e);delete this._deferredParents[t]}e.subscribe()}},t.setFocus=function(e){if(e){var t=this._fields[e];t&&t.setFocus?t.setFocus():console.log("View on which focus is to be set, not initialized.")}},t.getPath=function(){return this._path},t.render=function(e){var t,i,r,n=this,o=document.createElement("form");o.className="cmp-adaptiveform-container cmp-container",c(this,de)[de]&&null!=(t=c(this,de)[de])&&null!=(i=t.metadata)&&i.rulesUsed?import("./afcore.js").then(function(t){var i;return n._model=t.createFormInstance(c(n,de)[de],null),r=null==(i=n._model)?void 0:i.getState(),n.renderChildrens(o,r),e.replaceWith(o),o}):(r=c(this,de)[de],this.renderChildrens(o,r),e.replaceWith(o))},e}(),pe=/*#__PURE__*/u("handlePanel"),me=/*#__PURE__*/u("handleProperty"),fe=/*#__PURE__*/u("handleCheckbox"),ve=/*#__PURE__*/u("setProperty"),ge=/*#__PURE__*/u("handleMultiValues"),be=/*#__PURE__*/u("handleHierarchy"),ye=/*#__PURE__*/u("haveRule"),_e=/*#__PURE__*/u("haveConstraintMsg"),we=/*#__PURE__*/u("isPanel"),ke=/*#__PURE__*/u("isEndingPanel"),Se=/*#__PURE__*/u("cleanUpPanel"),Ee=/*#__PURE__*/function(){function e(){Object.defineProperty(this,Se,{value:Me}),Object.defineProperty(this,ke,{value:Ie}),Object.defineProperty(this,we,{value:Ce}),Object.defineProperty(this,_e,{value:je}),Object.defineProperty(this,ye,{value:Ve}),Object.defineProperty(this,be,{value:Oe}),Object.defineProperty(this,ge,{value:Ae}),Object.defineProperty(this,ve,{value:xe}),Object.defineProperty(this,fe,{value:Pe}),Object.defineProperty(this,me,{value:De}),Object.defineProperty(this,pe,{value:Le})}var t=e.prototype;return t._getForm=function(e){try{if(!e)throw new Error("form name is required");return Promise.resolve(fetch(e)).then(function(e){return Promise.resolve(e.json())})}catch(e){return Promise.reject(e)}},t.getFormModel=function(e){try{var t=this;return Promise.resolve(function(){if(e){var i={adaptiveform:"0.10.0",metadata:{grammar:"json-formula-1.0.0",version:"1.0.0"},items:[]};return console.time("Get Excel JSON"),Promise.resolve(t._getForm(e)).then(function(r){if(console.timeEnd("Get Excel JSON"),!r||!r.data)throw new Error("Unable to retrieve the form details with excel name "+e);var n=[];n.push(i.items);var o=i;return r.data.forEach(function(e){if(c(t,we)[we](e)){e.items={};var r=JSON.parse(JSON.stringify(e));c(t,pe)[pe](r),o.items.push(r),n.push(o),o=r}else c(t,ke)[ke](e)?(o=n.pop())||(o=i):o.items.push(c(t,me)[me](i,e))}),{formDef:i,excelData:r}})}}())}catch(e){return Promise.reject(e)}},e}();function Le(e){if(c(this,Se)[Se](e),c(this,ye)[ye](e)){var t=c(this,be)[be](e,"Rules.");t&&0!=Object.keys(t).length&&(e.rules=t)}var i=c(this,be)[be](e,"events.");i&&0!=Object.keys(i).length&&(e.events=i)}function De(e,t){var i=Object.fromEntries(Object.entries(t).filter(function(e){var t=e[1];return null!=t&&""!=t})),r=Ee.fieldMapping.has(i.Type)?Ee.fieldMapping.get(i.Type):i.Type,n={name:i.Field,placeholder:i.Placeholder,type:"string",fieldType:r,value:i.Value,label:{value:i.Label},required:!!i.Mandatory};if(c(this,ve)[ve](i,"Maximum",n,"maximum"),c(this,ve)[ve](i,"Minimum",n,"minimum"),c(this,ve)[ve](i,"MaxLength",n,"maxLength"),c(this,ve)[ve](i,"MinLength",n,"minLength"),c(this,ve)[ve](i,"Step",n,"step"),c(this,ye)[ye](i)){var o=c(this,be)[be](i,"Rules.");o&&0!=Object.keys(o).length&&(n.rules=o,e.metadata.rulesUsed=!0)}if(c(this,_e)[_e](i)){var a=c(this,be)[be](i,"constraintMessages.");a&&0!=Object.keys(a).length&&(n.constraintMessages=a)}var s=c(this,be)[be](i,"events.");s&&0!=Object.keys(s).length&&(n.events=s);var l=c(this,ge)[ge](i,"Options");return l&&(n.enumNames=n.enum=l),c(this,fe)[fe](n),n}function Pe(e){"checkbox"!=(null==e?void 0:e.fieldType)||e.enum&&0!=e.enum.length||(e.enum=["on"])}function xe(e,t,i,r){e&&e[t]&&(i[r]=e[t])}function Ae(e,t){var i;return e&&e[t]&&(i=e[t].split(",").map(function(e){return e.trim()})),i}function Oe(e,t){var i={};return Object.keys(e).forEach(function(r){if(~r.indexOf(t)){var n=r.split(".")[1];e[r]&&(i[n]=e[r]),delete e[r]}}),i}function Ve(e){return Object.keys(e).some(function(e){return~e.indexOf("Rules.")})}function je(e){return Object.keys(e).some(function(e){return~e.indexOf("constraintMessages.")})}function Ce(e){return e&&"object"==e.type}function Ie(e){return e&&"page-break"==e.viewType}function Me(e){delete e.type}Ee.fieldMapping=new Map([["text-input","text"],["number-input","number"],["date-input","datetime-local"],["file-input","file"],["drop-down","select"],["radio-group",""],["checkbox-group",""],["plain-text","plain-text"],["checkbox","checkbox"],["multiline-input","text-area"],["panel","panel"],["submit","button"]]);var qe=function(e){try{var t=null==e?void 0:e.querySelector('a[href$=".json"]'),i=function(){if(t&&null!=t&&t.href)return Promise.resolve(Te(t)).then(function(){})}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},Te=function(e){try{var t=function(){if(e&&null!=e&&e.href){var t=e.href;console.log("Loading & Converting excel form to Crispr Form"),console.time("Json Transformation (including Get)");var i=new Ee;return Promise.resolve(i.getFormModel(t)).then(function(t){console.timeEnd("Json Transformation (including Get)"),console.log(t),console.log("Creating Form Container"),console.time("Form Model Instance Creation");var i=new he({_formJson:null==t?void 0:t.formDef});console.timeEnd("Form Model Instance Creation"),window.guideContainer=i,console.time("Form Rendition"),i.render(e),console.timeEnd("Form Rendition")})}}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};qe(document.getElementsByClassName("form")[0]);export{r as _,i as a,n as b,s as c,e as d,qe as e};
//# sourceMappingURL=index-6e343002.js.map
